<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <title>Quizes about Books</title>
    <style>
      .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      }

      .modal-content {
        background-color: #fff;
        margin: 10% auto;
        padding: 150px;
        border: 1px solid #888;
        width: 50%;
        max-width: 500px; /* Set a maximum width for a square form */
        text-align: center; /* Center the content */
      }

      #test div {
        margin-bottom: 30px;
        text-align: center;
      }

      .correct {
        border: 1px solid green;
      }

      .incorrect {
        border: 1px solid red;
      }

      .correct::after {
        content: "✔";
        color: green;
        font-weight: bold;
        margin-left: -50px; /* Уменьшаем отступ между значком и ответами */
      }

      .incorrect::after {
        content: "❌";
        color: red;
        font-weight: bold;
        margin-left: -50px; /* Уменьшаем отступ между значком и ответами */
      }

      #share-buttons {
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center;
        margin-top: 20px;
      }

      #share-buttons a {
        margin: 10px 0;
      }
      #gif-image {
        width: 200px; /* Задайте ширину гифки по вашему усмотрению */
        height: 200px;
        margin-top: 20px;
      }
      html {
        height: 100%;
      }
    </style>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" />
  </head>

  <body style="background-color: lightblue">
     <!-- Navbar -->
     <nav class="navbar sticky-top navbar-expand-md navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html"
          ><i class="fa-solid fa-book"></i> Libranium</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mainNavbar"
          aria-controls="mainNavbar"
          aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="mainNavbar">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a href="index.html" class="nav-link active"> Home </a>
            </li>
            <li class="nav-item">
              <a href="../html/indexTest.html" class="nav-link"> Test </a>
            </li>
            <li class="nav-item">
              <a href="../html/bookList.html" class="nav-link"> Book List </a>
            </li>
            <li class="nav-item">
              <a href="../html/mybooks.html" class="nav-link" id="my-books">
                My Books
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container my-5">
      <div id="result-modal" class="modal">
        <div class="modal-content">
          <p id="result-text"></p>
          <!-- Добавленный элемент для отображения гифки -->
          <img id="result-gif" style="display: none" alt="Result GIF" />

          <div id="share-buttons">
            <!-- Add your social media share buttons here -->
            <a href="#" id="share-facebook">Share on Facebook</a>
            <a href="#" id="share-twitter">Share on Twitter</a>
          </div>
        </div>
      </div>
    </div>

    <div class="mx-auto p-2" style="width: 170px">
      <h1 style="color:white" class="mb-5">Quizes</h1>
    </div>
    <div class="">
      <div class="container">
        <div class="row justify-content-centers">
          <div class="col-md-3"></div>
          <div class="col-md-6 text-center">
            <div id="test"></div>
            <button id="button" class="btn btn-primary mt-3">Check</button>
          </div>
          <div class="col-md-3"></div>
        </div>
      </div>
    </div>

    <div class="container my-5">
      <footer class="bg-dark text-center text-lg-start text-white">
        <div class="container p-4">
          <div class="row my-4">
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
              <div
                class="bg-white shadow-1-strong d-flex align-items-center justify-content-center mb-4 mx-auto"
                style="width: 150px; height: 150px">
                <img
                  src="../resources/logo/Li_logo.png"
                  width="120px"
                  height="120px" />
              </div>
              <ul class="list-unstyled d-flex flex-row justify-content-center">
                <li>
                  <a class="text-white px-2" href="#!">
                    <i class="fab fa-facebook-square"></i>
                  </a>
                </li>
                <li>
                  <a class="text-white px-2" href="#!">
                    <i class="fab fa-instagram"></i>
                  </a>
                </li>
                <li>
                  <a class="text-white ps-2" href="#!">
                    <i class="fab fa-youtube"></i>
                  </a>
                </li>
              </ul>
            </div>

            <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
              <h5 class="text-uppercase mb-4">About Test</h5>
              <ul class="list-unstyled">
                <li class="mb-2">
                  <a href="#!" class="text-white"
                    ><i class="fas fa-paw pe-3"></i>Why tests are short?</a
                  >
                </li>
                <li class="mb-2">
                  <a href="#!" class="text-white"
                    ><i class="fas fa-paw pe-3"></i>Recently found</a
                  >
                </li>
                <li class="mb-2">
                  <a href="#!" class="text-white"
                    ><i class="fas fa-paw pe-3"></i>How to adopt?</a
                  >
                </li>
                <li class="mb-2">
                  <a href="#!" class="text-white"
                    ><i class="fas fa-paw pe-3"></i>Pets for adoption</a
                  >
                </li>
                <li class="mb-2">
                  <a href="#!" class="text-white"
                    ><i class="fas fa-paw pe-3"></i>Material gifts</a
                  >
                </li>
                <li class="mb-2">
                  <a href="#!" class="text-white"
                    ><i class="fas fa-paw pe-3"></i>Help with walks</a
                  >
                </li>
                <li class="mb-2">
                  <a href="#!" class="text-white"
                    ><i class="fas fa-paw pe-3"></i>Volunteer activities</a
                  >
                </li>
              </ul>
            </div>

            <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
              <h5 class="text-uppercase mb-4">Contact</h5>
              <ul class="list-unstyled">
                <li>
                  <p>
                    <i class="fas fa-map-marker-alt pe-2"></i>улица Туркистан,
                    Астана 020000
                  </p>
                </li>
                <li>
                  <p><i class="fas fa-phone pe-2"></i>87172 64 57 10</p>
                </li>
                <li>
                  <p>
                    <i class="fas fa-envelope pe-2 mb-0"></i
                    >astanait.edu.kz@gmail.com
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div
          class="text-center p-3"
          style="background-color: rgba(0, 0, 0, 0.2)">
          © 2023 Copyright:
          <a class="text-white" href="https://mdbootstrap.com/"
            >MDBootstrap.com</a
          >
        </div>
      </footer>
    </div>

    <script>
      let test = document.querySelector("#test");
      let resultContainer = document.createElement("div"); // Create a container for the result
      test.parentNode.insertBefore(resultContainer, test.nextSibling); // Insert it after the #test element

      let resultModal = document.getElementById("result-modal");
      let resultTextElement = document.getElementById("result-text");
      let shareButtonsElement = document.getElementById("share-buttons");

      let questions = [
        {
          question: "Who is the author of the book '1984'?",
          options: ["George Orwell", "Jane Austen", "Charles Dickens"],
          correctAnswer: "George Orwell",
        },
        {
          question: "When was the book '1984' written?",
          options: ["1949", "1935", "1957"],
          correctAnswer: "1949",
        },
        {
          question: "Who translated the book into the Russian edition?",
          options: ["Ivan Ivanov", "Maria Petrova", "John Smith"],
          correctAnswer: "Ivan Ivanov",
        },
        {
          question: "When was the book translated into the Russian edition?",
          options: ["1960", "1975", "1982"],
          correctAnswer: "1960",
        },
        {
          question: "What is the name of the country in the book?",
          options: ["Oceania", "Eurasia", "Eastasia"],
          correctAnswer: "Eurasia",
        },
      ];

      for (let i = 0; i < questions.length; i++) {
        let div = document.createElement("div");
        div.classList.add("card", "p-3"); // Добавляем стили Bootstrap
        test.appendChild(div);

        let p = document.createElement("p");
        p.classList.add("h5"); // Добавляем стили Bootstrap
        p.innerHTML = questions[i].question;
        div.appendChild(p);

        for (let j = 0; j < questions[i].options.length; j++) {
          let option = questions[i].options[j];
          let label = document.createElement("label");
          let radio = document.createElement("input");
          radio.type = "radio";
          radio.name = "question" + i;
          radio.value = option;
          radio.classList.add("form-check-input", "mx-2"); // Добавляем стили Bootstrap и отступы
          label.appendChild(radio);
          label.appendChild(document.createTextNode(option));
          div.appendChild(label);
        }
      }

      let button = document.querySelector("#button");
      let correctCount = 0;
      button.classList.add("btn"); // Добавляем стили Bootstrap
      button.addEventListener("click", function () {
        let inputs = document.querySelectorAll(
          "#test input[type='radio']:checked"
        );
        for (let input of inputs) {
          let questionIndex = input.name.replace("question", "");
          let selectedOption = input.value;
          let correctAnswer = questions[questionIndex].correctAnswer;

          if (selectedOption === correctAnswer) {
            input.classList.add("correct");
            correctCount++;
          } else {
            input.classList.add("incorrect");
          }
        }
        let resultText =
          "You answered " +
          correctCount +
          " out of " +
          questions.length +
          " questions correctly.";
        resultTextElement.innerHTML = resultText;

        // Выбор и отображение гифки в зависимости от оценки
        let resultGifElement = document.getElementById("result-gif");
        let gifPath;

        if (correctCount === questions.length) {
          gifPath =
            "https://media0.giphy.com/media/3OhXBaoR1tVPW/giphy.gif?cid=ecf05e477um67mvv9ba7z3yfe0e0mve0vi9j4qoqli5t0hog&ep=v1_gifs_search&rid=giphy.gif&ct=g";
        } else if (correctCount >= questions.length / 2) {
          gifPath =
            "https://media2.giphy.com/media/VbnUQpnihPSIgIXuZv/giphy.gif?cid=ecf05e47psaqdss8he073d3gu6t0wqtcn6leh3wl3poqw2ab&ep=v1_gifs_search&rid=giphy.gif&ct=g";
        } else {
          gifPath = "https://media1.giphy.com/media/10FwycrnAkpshW/giphy.gif";
        }

        // Установка пути к гифке и отображение элемента
        resultGifElement.src = gifPath;
        resultGifElement.style.display = "block";

        resultModal.style.display = "block";
      });
      window.onclick = function (event) {
        if (event.target == resultModal) {
          resultModal.style.display = "none";
        }
      };

      // Social media share functionality (replace # with your actual share URLs)
      document
        .getElementById("share-facebook")
        .addEventListener("click", function () {
          window.open("https://www.facebook.com/sharer/sharer.php?u=#");
        });

      document
        .getElementById("share-twitter")
        .addEventListener("click", function () {
          window.open(
            "https://twitter.com/intent/tweet?url=#&text=" +
              encodeURIComponent("Check out my quiz result!")
          );
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.min.js"></script>
  </body>
</html>
